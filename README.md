
# English

## Overview

We will translate using the Cloud Translation API of GCP (Google Cloud Platform).
When you specify a text file to be translated by the command, the translation result is stored in the output folder.
You can specify more than one language you want to translate at the same time.
In addition, as an additional function for Android development, it is also possible to automatically translate the contents of strings.xml and arrays.xml of resource file res / values, and generate localized resources automatically.
Because we use GCP&#39;s translation API, fee will be generated by command execution. Please refer to the explanation page of Cloud Translation API for charge system.
When the translation is completed, the estimated amount of API usage fee is displayed. My experiences rarely exceed $ 1 in a series of translations.
However, in order to prevent excessive use, we set limit of number of translated characters (default 1 million characters) in script.
If you want to change this limit value please change your own source code. Source code is distributed under MIT license.
If there is a change in the GCP fee structure in the future, the calculated estimate may be wrong, but I do not know if I can respond quickly to this. Estimated amount is for reference only.

__Disclaimer__
The author is not responsible for any damage caused by using this script.

I ran the script under the following conditions.
I think that there is no problem if the version of python is 3, but please use the latest one if possible.

Python 3.6.5  
pip 10.0.1  
google-cloud-translate 1.3.1

## a

In order to use this script, please create a GCP account in advance and make the Cloud Translation API enabled.
Please refer to the following URL and set it so that Cloud Translation API can be used on python.

https://cloud.google.com/translate/docs/reference/libraries#client-libraries-install-python


## Installation method

We recommend that you install in a virtual environment such as virtualenv.

pip install git+https://github.com/malta-yamato/translation-by-gcp.git

At the same time, google-cloud-translate will also be installed.


## command

### normal command
translate input file (Currently, character codes correspond only to utf-8)  
e.g.) translate sample.txt

### Specifying the translation destination (language code)
--langs Language code 1 Language code 2 ...  
e.g.) translate sample.txt --langs en ja

### Specification of output destination folder (Optional, by default, a folder named output-translation is created and the translation result is stored there)
--output destination folder  
e.g.) translate sample.txt --langs en ja --outputs hoge

### Translation check (translated results are translated again in the specified language, results are stored in the check folder of the output folder)
--check Language code  
e.g.) translate sample.txt --langs ja --check en

### Android
transand resource folder  
e.g.) transand values --lang en --check ja


# 日本語

## 概要

GCP(Google Cloud Platform) の Cloud Translation API を利用して翻訳を行います。
コマンドで翻訳したいテキストファイルを指定すると、出力フォルダに翻訳結果が格納されます。
翻訳したい言語は同時に複数を指定できます。
またAndroid開発用の追加機能として、リソースファイル res/values の strings.xml と arrays.xml の内容を翻訳し、ローカライズされたリソースを自動生成することも可能です。
GCPの翻訳APIを利用するので、コマンド実行で料金が発生します。料金体系については Cloud Translation API の説明ページでご確認ください。
翻訳が終了すると、API使用料金の見積額を表示します。私の経験上では一連の翻訳で＄1を超えることは稀です。
しかし過剰な利用を防ぐために、スクリプトで翻訳文字数の制限（デフォルト 100万文字）を設定しています。
この制限値を変更したい場合は各自ソースコードをご変更ください。ソースコードはMITライセンスで配布しております。
今後GCPの料金体系に変更があった場合、算出した見積額が誤ってしまう可能性がありますが、こちらについて直ぐに対応できるかどうか分かりません。見積額はあくまで参考値となります。

__免責事項__  
このスクリプトの使用で生じたあらゆる損害について作者は何ら責任を負うものではありません。

私は以下の条件でスクリプトを実行しました。
pythonのバージョンは3系であれば問題ないと思いますが、なるべく最新のものをご使用ください。

Python 3.6.5  
pip 10.0.1  
google-cloud-translate 1.3.1

## 事前準備

このスクリプトを使うにあたり、あらかじめ GCP のアカウントを作成し、Cloud Translation API を_有効_にしてください。
また以下の URL を参考に、python上で Cloud Translation API を使用できるように設定してください。

https://cloud.google.com/translate/docs/reference/libraries#client-libraries-install-python


## インストール方法

virtualenv 等の仮想環境でインストールすることをおすすめいたします。

pip install git+https://github.com/malta-yamato/translation-by-gcp.git

同時に google-cloud-translate もインストールされます。


## コマンド

### 通常のコマンド
translate 入力ファイル（現在、文字コードは utf-8 のみに対応しています）  
例）translate sample.txt

### 翻訳先の指定（言語コード）
--langs 言語コード１ 言語コード2 …  
例）translate sample.txt --langs ja en

### 出力先フォルダの指定（省略可、デフォルトでは output-translation というフォルダが作成されて、そこに翻訳結果が格納される）
--output 出力先フォルダ  
例）translate sample.txt --langs ja en --output hoge

### 翻訳チェック（翻訳した結果をさらに指定した言語で翻訳し直します。結果は出力先フォルダの check フォルダに格納されます）
--check 言語コード  
例）translate sample.txt --langs en --check ja

### Android用
transand リソースフォルダ  
例）transand values --lang en --check ja
